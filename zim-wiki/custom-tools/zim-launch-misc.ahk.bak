#NoEnv  ; Recommended for performance and compatibility with future AutoHotkey releases.
#Warn  ; 
SendMode Input  ; Recommended for new scripts due to its superior speed and reliability.
SetWorkingDir %A_ScriptDir%  ; Ensures a consistent starting directory.
SetBatchLines -1 ; run as fast as possible

expectedParmCnt=2

; The left side of a non-expression if-statement is always the name of a variable.

if 0 < %expectedParmCnt% 
{
    MsgBox,%A_ScriptName% requires at least %expectedParmCnt%  incoming parameters but it only received %0%.
    ExitApp
}

taskNm=%1%

; msgbox,%taskNm%

if (taskNm == "jira0")
{
    parm := %2%  ; Fetch the contents of the variable whose name is contained in A_Index.
    ;~ MsgBox, 4,, Parameter number %A_Index% is %parm%.  Continue?
    ;~ IfMsgBox, No
        ;~ break
    url0=https://trellis.atlassian.net/browse/%parm%
    run,%url0%
} else if (taskNm == "copy-work-around") {
    CLIPBOARD=%2%
    SplashTextOn, 100, 50, Zim Copy Workaround, copied to clipboard: %2%
    sleep, 500
    SplashTextOff
}
else 
    msgbox,unknown task: %taskNm%

ExitApp
